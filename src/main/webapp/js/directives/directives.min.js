var mapping=[],holders_exp=/\/(?!:http|https)*\:[A-Za-z0-9\._-]+/g;angular.module("FakeHttpBackend",[]).value("fakeMapping",{scheme:function(e,n){e=e.replace("?","\\?");var t;for(var a in n){var i;if(a.trim()){for(var r,o,u,c=a.split(","),i=e;c.length;)r=c.shift().split(":"),o=r[0].trim().replace(/^@/,":"),u=r[1].trim()||null,t=new RegExp(o+"(?!Ww)"),i="*"===u?i.replace(t,"[A-Za-z0-9._-]+"):"+"===u?i.replace(t,"[^?]+"):null===u?i.replace(t,""):i.replace(t,u);i=i.replace(holders_exp,""),mapping.push({reg_exp:new RegExp(i+"($)"),cb:n[a]})}else i=e.replace(holders_exp,""),mapping.push({reg_exp:new RegExp(i+"($)"),cb:n[a]})}},match:function(e){var n,t=mapping.length;for(n=0;n<t;n++)if(mapping[n].reg_exp.test(e))return mapping[n].cb;return null}}).factory("$fakeBackend",["$injector","$q","$log","fakeMapping",function(e,n,t,a){t.info("FakeBackend Working right now!");var i;return{filter:function(t){var r=t.config,o=r.url,u=a.match(o);if(u){var c=n.defer();return angular.isFunction(u)?u.call(this,t.config,c):(e.has("$http")&&!i&&(i=e.get("$http")),i.get(u).then(function(e){c.resolve(e)},function(e){c.resolve(e)})),c.promise}return n(t)}}}]).factory("fakeBackendInterceptor",["$log","$q","$fakeBackend",function(e,n,t){return{response:function(n){return 200===n.status&&/json$/.test(n.headers("Content-Type"))&&n.data&&e.info("interceptor :: "+n.config.url),n},responseError:function(e){return 404===e.status?t.filter(e):e}}}]).constant("fbInterceptor","fakeBackendInterceptor"),angular.module("app").directive("setNgAnimate",["$animate",function(e){return{link:function(n,t,a){n.$watch(function(){return n.$eval(a.setNgAnimate,n)},function(n,a){e.enabled(!!n,t)})}}}]),angular.module("app").directive("uiButterbar",["$rootScope","$anchorScroll",function(e,n){return{restrict:"AC",template:'<span class="bar"></span>',link:function(e,t,a){t.addClass("butterbar hide"),e.$on("$stateChangeStart",function(e){n(),t.removeClass("hide").addClass("active")}),e.$on("$stateChangeSuccess",function(e,n,a,i){e.targetScope.$watch("$viewContentLoaded",function(){t.addClass("hide").removeClass("active")})})}}}]),angular.module("app").directive("uiFocus",function(e,n){return{link:function(t,a,i){var r=n(i.uiFocus);t.$watch(r,function(n){n===!0&&e(function(){a[0].focus()})}),a.bind("blur",function(){t.$apply(r.assign(t,!1))})}}}),angular.module("app").directive("uiFullscreen",["uiLoad","$document","$window",function(e,n,t){return{restrict:"AC",template:'<i class="fa fa-expand fa-fw text"></i><i class="fa fa-compress fa-fw text-active"></i>',link:function(t,a,i){a.addClass("hide"),e.load("vendor/libs/screenfull.min.js").then(function(){screenfull.enabled&&!navigator.userAgent.match(/Trident.*rv:11\./)&&a.removeClass("hide"),a.on("click",function(){var e;i.target&&(e=$(i.target)[0]),screenfull.toggle(e)}),n.on(screenfull.raw.fullscreenchange,function(){screenfull.isFullscreen?a.addClass("active"):a.removeClass("active")})})}}}]),angular.module("ui.jq",["ui.load"]).value("uiJqConfig",{}).directive("uiJq",["uiJqConfig","JQ_CONFIG","uiLoad","$timeout",function(e,n,t,a){return{restrict:"A",compile:function(i,r){if(!angular.isFunction(i[r.uiJq])&&!n[r.uiJq])throw new Error('ui-jq: The "'+r.uiJq+'" function does not exist');var o=e&&e[r.uiJq];return function(e,i,r){function u(){var n=[];return r.uiOptions?(n=e.$eval("["+r.uiOptions+"]"),angular.isObject(o)&&angular.isObject(n[0])&&(n[0]=angular.extend({},o,n[0]))):o&&(n=[o]),n}function c(){a(function(){i[r.uiJq].apply(i,u())},0,!1)}function l(){r.uiRefresh&&e.$watch(r.uiRefresh,function(){c()})}r.ngModel&&i.is("select,input,textarea")&&i.bind("change",function(){i.trigger("input")}),n[r.uiJq]?t.load(n[r.uiJq]).then(function(){c(),l()}).catch(function(){}):(c(),l())}}}}]),angular.module("app").directive("uiModule",["MODULE_CONFIG","uiLoad","$compile",function(e,n,t){return{restrict:"A",compile:function(a,i){var r=a.contents().clone();return function(a,i,o){i.contents().remove(),n.load(e[o.uiModule]).then(function(){t(r)(a,function(e,n){i.append(e)})})}}}}]),angular.module("app").directive("uiNav",["$timeout",function(e){return{restrict:"AC",link:function(e,n,t){var a,i=$(window),r=$(".app-aside");n.on("click","a",function(e){a&&a.trigger("mouseleave.nav");var n=$(this);n.parent().siblings(".active").toggleClass("active"),n.next().is("ul")&&n.parent().toggleClass("active")&&e.preventDefault(),n.next().is("ul")||i.width()<768&&$(".app-aside").removeClass("show off-screen")}),n.on("mouseenter","a",function(e){if(a&&a.trigger("mouseleave.nav"),$("> .nav",r).remove(),!(!$(".app-aside-fixed.app-aside-folded").length||i.width()<768||$(".app-aside-dock").length)){var n,t=$(e.target),o=$(window).height();!t.is("a")&&(t=t.closest("a")),t.next().is("ul")&&(a=t.next(),t.parent().addClass("active"),n=t.parent().position().top+50,a.css("top",n),n+a.height()>o&&a.css("bottom",0),n+150>o&&a.css("bottom",o-n-50).css("top","auto"),a.appendTo(r),a.on("mouseleave.nav",function(e){$(".dropdown-backdrop").remove(),a.appendTo(t.parent()),a.off("mouseleave.nav").css("top","auto").css("bottom","auto"),t.parent().removeClass("active")}),$(".smart").length&&$('<div class="dropdown-backdrop"/>').insertAfter(".app-aside").on("click",function(e){e&&e.trigger("mouseleave.nav")}))}}),r.on("mouseleave",function(e){a&&a.trigger("mouseleave.nav"),$("> .nav",r).remove()})}}}]),angular.module("app").directive("uiScroll",["$location","$anchorScroll",function(e,n){return{restrict:"AC",link:function(t,a,i){a.on("click",function(t){e.hash(i.uiScroll),n()})}}}]),angular.module("app").directive("uiShift",["$timeout",function(e){return{restrict:"A",link:function(n,t,a){function i(){e(function(){var e=a.uiShift,n=a.target;u.hasClass("in")||u[e](n).addClass("in")})}function r(){o&&o.prepend(t),!o&&u.insertAfter(l),u.removeClass("in")}var o,u=$(t),c=$(window),l=u.prev(),s=c.width();!l.length&&(o=u.parent()),s<768&&i()||r(),c.resize(function(){s!==c.width()&&e(function(){c.width()<768&&i()||r(),s=c.width()})})}}}]),angular.module("app").directive("uiToggleClass",["$timeout","$document",function(e,n){return{restrict:"AC",link:function(e,n,t){n.on("click",function(e){function a(e,n){for(var t=new RegExp("\\s"+e.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g"),a=" "+$(n)[0].className+" ";t.test(a);)a=a.replace(t," ");$(n)[0].className=$.trim(a)}e.preventDefault();var i=t.uiToggleClass.split(","),r=t.target&&t.target.split(",")||Array(n),o=0;angular.forEach(i,function(e){var n=r[r.length&&o];e.indexOf("*")!==-1&&a(e,n),$(n).toggleClass(e),o++}),$(n).toggleClass("active")})}}}]),angular.module("ui.validate",[]).directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(e,n,t,a){var i,r={},o=e.$eval(t.uiValidate);o&&(angular.isString(o)&&(o={validator:o}),angular.forEach(o,function(n,t){i=function(i){var r=e.$eval(n,{$value:i});return angular.isObject(r)&&angular.isFunction(r.then)?(r.then(function(){a.$setValidity(t,!0)},function(){a.$setValidity(t,!1)}),i):r?(a.$setValidity(t,!0),i):(a.$setValidity(t,!1),i)},r[t]=i,a.$formatters.push(i),a.$parsers.push(i)}),t.uiValidateWatch&&function(n){angular.isString(n)?void e.$watch(n,function(){angular.forEach(r,function(e){e(a.$modelValue)})}):angular.isArray(n)?void angular.forEach(n,function(n){e.$watch(n,function(){angular.forEach(r,function(e){e(a.$modelValue)})})}):void(angular.isObject(n)&&angular.forEach(n,function(n,t){angular.isString(n)&&e.$watch(n,function(){r[t](a.$modelValue)}),angular.isArray(n)&&angular.forEach(n,function(n){e.$watch(n,function(){r[t](a.$modelValue)})})}))}(e.$eval(t.uiValidateWatch)))}}});