angular.module("app").directive("setNgAnimate",["$animate",function(n){return{link:function(e,t,a){e.$watch(function(){return e.$eval(a.setNgAnimate,e)},function(e,a){n.enabled(!!e,t)})}}}]),angular.module("app").directive("uiButterbar",["$rootScope","$anchorScroll",function(n,e){return{restrict:"AC",template:'<span class="bar"></span>',link:function(n,t,a){t.addClass("butterbar hide"),n.$on("$stateChangeStart",function(n){e(),t.removeClass("hide").addClass("active")}),n.$on("$stateChangeSuccess",function(n,e,a,i){n.targetScope.$watch("$viewContentLoaded",function(){t.addClass("hide").removeClass("active")})})}}}]),angular.module("app").directive("uiFocus",function(n,e){return{link:function(t,a,i){var o=e(i.uiFocus);t.$watch(o,function(e){e===!0&&n(function(){a[0].focus()})}),a.bind("blur",function(){t.$apply(o.assign(t,!1))})}}}),angular.module("app").directive("uiFullscreen",["uiLoad","$document","$window",function(n,e,t){return{restrict:"AC",template:'<i class="fa fa-expand fa-fw text"></i><i class="fa fa-compress fa-fw text-active"></i>',link:function(t,a,i){a.addClass("hide"),n.load("vendor/libs/screenfull.min.js").then(function(){screenfull.enabled&&!navigator.userAgent.match(/Trident.*rv:11\./)&&a.removeClass("hide"),a.on("click",function(){var n;i.target&&(n=$(i.target)[0]),screenfull.toggle(n)}),e.on(screenfull.raw.fullscreenchange,function(){screenfull.isFullscreen?a.addClass("active"):a.removeClass("active")})})}}}]),angular.module("ui.jq",["ui.load"]).value("uiJqConfig",{}).directive("uiJq",["uiJqConfig","JQ_CONFIG","uiLoad","$timeout",function(n,e,t,a){return{restrict:"A",compile:function(i,o){if(!angular.isFunction(i[o.uiJq])&&!e[o.uiJq])throw new Error('ui-jq: The "'+o.uiJq+'" function does not exist');var u=n&&n[o.uiJq];return function(n,i,o){function r(){var e=[];return o.uiOptions?(e=n.$eval("["+o.uiOptions+"]"),angular.isObject(u)&&angular.isObject(e[0])&&(e[0]=angular.extend({},u,e[0]))):u&&(e=[u]),e}function c(){a(function(){i[o.uiJq].apply(i,r())},0,!1)}function l(){o.uiRefresh&&n.$watch(o.uiRefresh,function(){c()})}o.ngModel&&i.is("select,input,textarea")&&i.bind("change",function(){i.trigger("input")}),e[o.uiJq]?t.load(e[o.uiJq]).then(function(){c(),l()}).catch(function(){}):(c(),l())}}}}]),angular.module("app").directive("uiModule",["MODULE_CONFIG","uiLoad","$compile",function(n,e,t){return{restrict:"A",compile:function(a,i){var o=a.contents().clone();return function(a,i,u){i.contents().remove(),e.load(n[u.uiModule]).then(function(){t(o)(a,function(n,e){i.append(n)})})}}}}]),angular.module("app").directive("uiNav",["$timeout",function(n){return{restrict:"AC",link:function(n,e,t){var a,i=$(window),o=$(".app-aside");e.on("click","a",function(n){a&&a.trigger("mouseleave.nav");var e=$(this);e.parent().siblings(".active").toggleClass("active"),e.next().is("ul")&&e.parent().toggleClass("active")&&n.preventDefault(),e.next().is("ul")||i.width()<768&&$(".app-aside").removeClass("show off-screen")}),e.on("mouseenter","a",function(n){if(a&&a.trigger("mouseleave.nav"),$("> .nav",o).remove(),!(!$(".app-aside-fixed.app-aside-folded").length||i.width()<768||$(".app-aside-dock").length)){var e,t=$(n.target),u=$(window).height();!t.is("a")&&(t=t.closest("a")),t.next().is("ul")&&(a=t.next(),t.parent().addClass("active"),e=t.parent().position().top+50,a.css("top",e),e+a.height()>u&&a.css("bottom",0),e+150>u&&a.css("bottom",u-e-50).css("top","auto"),a.appendTo(o),a.on("mouseleave.nav",function(n){$(".dropdown-backdrop").remove(),a.appendTo(t.parent()),a.off("mouseleave.nav").css("top","auto").css("bottom","auto"),t.parent().removeClass("active")}),$(".smart").length&&$('<div class="dropdown-backdrop"/>').insertAfter(".app-aside").on("click",function(n){n&&n.trigger("mouseleave.nav")}))}}),o.on("mouseleave",function(n){a&&a.trigger("mouseleave.nav"),$("> .nav",o).remove()})}}}]),angular.module("app").directive("uiScroll",["$location","$anchorScroll",function(n,e){return{restrict:"AC",link:function(t,a,i){a.on("click",function(t){n.hash(i.uiScroll),e()})}}}]),angular.module("app").directive("uiShift",["$timeout",function(n){return{restrict:"A",link:function(e,t,a){function i(){n(function(){var n=a.uiShift,e=a.target;r.hasClass("in")||r[n](e).addClass("in")})}function o(){u&&u.prepend(t),!u&&r.insertAfter(l),r.removeClass("in")}var u,r=$(t),c=$(window),l=r.prev(),s=c.width();!l.length&&(u=r.parent()),s<768&&i()||o(),c.resize(function(){s!==c.width()&&n(function(){c.width()<768&&i()||o(),s=c.width()})})}}}]),angular.module("app").directive("uiToggleClass",["$timeout","$document",function(n,e){return{restrict:"AC",link:function(n,e,t){e.on("click",function(n){function a(n,e){for(var t=new RegExp("\\s"+n.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g"),a=" "+$(e)[0].className+" ";t.test(a);)a=a.replace(t," ");$(e)[0].className=$.trim(a)}n.preventDefault();var i=t.uiToggleClass.split(","),o=t.target&&t.target.split(",")||Array(e),u=0;angular.forEach(i,function(n){var e=o[o.length&&u];n.indexOf("*")!==-1&&a(n,e),$(e).toggleClass(n),u++}),$(e).toggleClass("active")})}}}]),angular.module("ui.validate",[]).directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(n,e,t,a){var i,o={},u=n.$eval(t.uiValidate);u&&(angular.isString(u)&&(u={validator:u}),angular.forEach(u,function(e,t){i=function(i){var o=n.$eval(e,{$value:i});return angular.isObject(o)&&angular.isFunction(o.then)?(o.then(function(){a.$setValidity(t,!0)},function(){a.$setValidity(t,!1)}),i):o?(a.$setValidity(t,!0),i):(a.$setValidity(t,!1),i)},o[t]=i,a.$formatters.push(i),a.$parsers.push(i)}),t.uiValidateWatch&&function(e){angular.isString(e)?void n.$watch(e,function(){angular.forEach(o,function(n){n(a.$modelValue)})}):angular.isArray(e)?void angular.forEach(e,function(e){n.$watch(e,function(){angular.forEach(o,function(n){n(a.$modelValue)})})}):void(angular.isObject(e)&&angular.forEach(e,function(e,t){angular.isString(e)&&n.$watch(e,function(){o[t](a.$modelValue)}),angular.isArray(e)&&angular.forEach(e,function(e){n.$watch(e,function(){o[t](a.$modelValue)})})}))}(n.$eval(t.uiValidateWatch)))}}});